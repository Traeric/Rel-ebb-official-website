<template>
  <div id="chat_room">
    <div class="top">
      <div class="broadcast">
        <div class="icon">
          公告
          <i class="fa fa-bullhorn"></i>
        </div>
        <div class="text">
          <div class="wrap" ref="broadcastWrap">
            <p>是个好烦的借口刚好地方个地方了事故好几个地方和管理上回家赶紧来回复登录时公开</p>
            <p>的风景更好的身高还是地方咯刚回家了地方机构或类似的</p>
            <p>地方和骄傲搜狐发个啥回购放大后工单</p>
            <p>数据公安是古老和法律</p>
          </div>
        </div>
      </div>
    </div>
    <div class="left">
      <div class="title">聊天室列表</div>
      <div class="rooms">
        <div class="item">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="right">
            <div class="time">
              <span class="time-mark">创建时间：</span>
              <span class="create-time">2019年10月22日</span>
            </div>
            <div class="name">Rel-ebb官方讨论群</div>
          </div>
          <div class="num"><el-tag type="danger">333</el-tag></div>
        </div>
        <div class="item">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="right">
            <div class="time">
              <span class="time-mark">创建时间：</span>
              <span class="create-time">2019年10月22日</span>
            </div>
            <div class="name">Rel-ebb官方讨论群</div>
          </div>
          <div class="num"><el-tag type="danger">333</el-tag></div>
        </div>
        <div class="item">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="right">
            <div class="time">
              <span class="time-mark">创建时间：</span>
              <span class="create-time">2019年10月22日</span>
            </div>
            <div class="name">Rel-ebb官方讨论群</div>
          </div>
          <div class="num"><el-tag type="danger">333</el-tag></div>
        </div>
        <div class="item">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="right">
            <div class="time">
              <span class="time-mark">创建时间：</span>
              <span class="create-time">2019年10月22日</span>
            </div>
            <div class="name">Rel-ebb官方讨论群</div>
          </div>
          <div class="num"><el-tag type="danger">333</el-tag></div>
        </div>
        <div class="item">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="right">
            <div class="time">
              <span class="time-mark">创建时间：</span>
              <span class="create-time">2019年10月22日</span>
            </div>
            <div class="name">Rel-ebb官方讨论群</div>
          </div>
          <div class="num"><el-tag type="danger">333</el-tag></div>
        </div>
      </div>
    </div>
    <div class="content">
      <div class="chat-title">Rel-ebb官方讨论群</div>
      <div class="chat-content">
        <div class="msg-item msg-left">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div class="msg-content">大部分高速接口不噶</div>
          </div>
        </div>
        <div class="msg-item msg-left">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div class="msg-content">大部分高速接口不噶</div>
          </div>
        </div>
        <div class="msg-item msg-left">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div class="msg-content">大部分高速接口不噶</div>
          </div>
        </div>
        <div class="msg-item msg-left">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div class="msg-content">大部分高速接口不噶</div>
          </div>
        </div>
        <div class="msg-item msg-left">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div class="msg-content">大部分高速接口不噶</div>
          </div>
        </div>
        <div class="msg-item msg-left">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div class="msg-content">大部分高速接口不噶</div>
          </div>
        </div>
        <div class="msg-item msg-left">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div class="msg-content">大部分高速接口不噶</div>
          </div>
        </div>
        <div class="msg-item msg-right">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div
              class="msg-content"
            >大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶大部分高速接口不噶</div>
          </div>
        </div>
        <div class="msg-item msg-left">
          <div class="avatar">
            <img src="@/assets/images/CDN.png" alt="NO IMG" />
          </div>
          <div class="msg">
            <div class="msg-content">大部分高速接口不噶</div>
          </div>
        </div>
      </div>
    </div>
    <div class="right">
      <div class="box-card">
        <div class="title">
          <span>成员列表</span>
        </div>
        <div class="card-content">
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
          <div class="item">
            <div class="avatar">
              <img src="@/assets/images/CDN.png" alt="NO IMG" />
            </div>
            <div class="name">小娇娇</div>
            <div class="mark">
              <el-tag type="success">室长</el-tag>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer">footer</div>
  </div>
</template>


<script>
export default {
  mounted() {
    let wrapDom = this.$refs.broadcastWrap;
    // 获取wrap的高度
    let height = wrapDom.clientHeight;
    // 获取公告的数量
    let count = wrapDom.children.length;
    let index = 1;
    setInterval(() => {
      // 向上滚动公告
      index < count
        ? (wrapDom.style.marginTop = `-${(height / count) * index++}px`)
        : (index = 0);
    }, 20000);
  }
};
</script>


<style scoped lang="stylus">
#chat_room
  display grid
  width 100%
  grid-template-columns repeat(4, 1fr)
  grid-template-rows 36px 600px 150px
  background-color rgba(178, 207, 135, 0.1)
  .top
    grid-column-start 1
    grid-column-end 5
    grid-row-start 1
    grid-row-end 2
    height 36px
    background-color rgba(255, 175, 201, 0.3)
    .broadcast
      display flex
      justify-content start
      align-items center
      width 60%
      height 100%
      margin 0 auto
      .icon
        font-size 16px
        height 100%
        line-height 36px
        color #1ba784
        margin-right 10px
      .text
        height 100%
        overflow hidden
        .wrap
          transition all 0.5s linear
          p
            height 100%
            line-height 36px
            animation wordsLoop 10s linear infinite normal
            color #57c3c2
  .left
    grid-column-start 1
    grid-column-end 2
    grid-row-start 2
    grid-row-end 4
    padding-right 15px
    box-sizing border-box
    display flex
    flex-direction column
    .title
      font-weight bolder
      font-size 20px
      padding 10px 15px
      border-bottom 3px solid rgba(178, 207, 135, 0.98)
    .rooms
      overflow auto
      flex 1 1 auto
      .item
        cursor pointer
        width 100%
        display flex
        justify-content space-between
        height 60px
        border-bottom 1px solid rgba(178, 207, 135, 0.5)
        padding 0 15px
        border-radius 4px
        box-sizing border-box
        &:hover
          background-color rgba(178, 207, 135, 0.2)
        .avatar
          width 60px
          height 100%
          flex 0 0 60px
          margin-right 10px
          img
            height 50px
            width 50px
            margin 5px
            border-radius 50%
        .right
          height 100%
          flex 1 1 auto
          padding 0
          .time
            height 30px
            line-height 30px
            .time-mark
              font-weight bolder
            .create-time
              color #ffafc9
          .name
            height 30px
            line-height 30px
        .num
          height 100%
          flex 0 0 60px
          display flex
          justify-content center
          align-items center
          color #b2cf87
          font-weight bolder
  .content
    grid-column-start 2
    grid-column-end 4
    grid-row-start 2
    grid-row-end 3
    margin 0 15px
    // border 1px solid #dedede
    display flex
    flex-direction column
    .chat-title
      font-weight bold
      height 36px
      line-height 36px
      flex 0 0 36px
      padding-left 10px
    .chat-content
      flex 1 1 auto
      overflow auto
      border 1px solid rgba(178, 207, 135, 0.98)
      border-radius 4px
      padding 0 10px
      .msg-item
        display flex
        &.msg-right
          flex-direction row-reverse
          .msg
            margin-right 10px
        .avatar
          height 60px
          width 60px
          img
            width 50px
            height 50px
            border-radius 50%
            margin 5px
        .msg
          margin-left 10px
          .msg-content
            margin-top 10px
            padding 10px
            border-radius 8px
            background-color #eea08c
            max-width 300px
            font-size 14px
            line-height 1.5
  .right
    grid-column-start 4
    grid-column-end 5
    grid-row-start 2
    grid-row-end 4
    padding-bottom 20px
    .box-card
      height 100%
      display flex
      flex-direction column
      .title
        height 36px
        line-height 36px
        font-weight bold
        border-bottom 1px solid #dedede
        padding-left 10px
      .card-content
        width 100%
        overflow auto
        .item
          display flex
          cursor pointer
          border-bottom 1px solid #dedede
          border-radius 4px
          margin 0 10px
          &:hover 
            background-color rgba(178, 207, 135, 0.3)
          .avatar
            flex 0 0 50px
            height 50px
            width 50px
            img
              height 40px
              width 40px
              margin 5px
              border-radius 50%
          .name
            flex 1 1 auto
            line-height 50px
            margin-left 15px
          .mark
            flex 0 0 50px
            line-height 50px
  .footer
    grid-column-start 2
    grid-column-end 4
    grid-row-start 3
    grid-row-end 4
@keyframes wordsLoop
  0%
    transform translateX(100px)
  100%
    transform translateX(-100%)
</style>

