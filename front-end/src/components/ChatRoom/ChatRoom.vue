<template>
    <div id="chat_room">
        <div class="centerit">
            <div class="chat-container">
                <aside>
                    <div class="top-bar">
                        <div class="menu-burger-container">
                            <div class="menu-burger"></div>
                        </div>
                        <div class="new-conversation">新建聊天室</div>
                    </div>
                    <div class="conversations">
                        <div class="thread">
                            <div class="details">
                                <div class="user-head online">
                                    <img src="@/assets/images/chat/1.png"/>
                                </div>
                                <div class="user-name">张三</div>
                                <div class="last-message">是的，演讲安排在明天，你能做吗？</div>
                            </div>
                            <div class="last new">12:32</div>
                        </div>
                        <div class="thread active">
                            <div class="details">
                                <div class="user-head away">
                                    <img src="@/assets/images/chat/2.png"/>
                                </div>
                                <div class="user-name">李四</div>
                                <div class="last-message">你：太棒了，谢谢。我期待着早上见到你。</div>
                            </div>
                            <div class="last">12:32</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                        <div class="thread">
                            <div class="details">
                                <div class="user-head offline">
                                    <img src="@/assets/images/chat/3.png"/>
                                </div>
                                <div class="user-name">小敏</div>
                                <div class="last-message">知道了！感谢您发送！</div>
                            </div>
                            <div class="last">16:47</div>
                        </div>
                    </div>
                </aside>
                <main>
                    <div class="top-bar">
                        <div class="user-info">
                            <div class="user-head">
                                <img src="@/assets/images/chat/1.png"/>
                            </div>
                            <div class="name">小强</div>
                            <div class="status online"></div>
                        </div>
                    </div>
                    <div class="messages" id="messages">
                        <div class="date-split">以前或更早以前</div>
                        <div class="message">
                            <div class="user-head">
                                <img src="@/assets/images/chat/2.png"/>
                            </div>
                            <div class="content">我已经更新了网站内容，菲奥娜，希望一切都好吗？请告诉我还有什么变化</div>
                        </div>
                        <div class="message fromme">
                            <div class="user-head">
                                <img src="@/assets/images/chat/1.png"/>
                            </div>
                            <div class="content">啊！太好了。我现在得走了，明天我会赶上你的。</div>
                        </div>
                        <div class="message">
                            <div class="user-head">
                                <img src="@/assets/images/chat/2.png"/>
                            </div>
                            <div class="content">不用担心，我很高兴你快乐！</div>
                        </div>
                        <div class="message">
                            <div class="user-head">
                                <img src="@/assets/images/chat/2.png"/>
                            </div>
                            <div class="content">当然，等会儿再跟你说。</div>
                        </div>
                        <div class="date-split">今日</div>
                        <div class="message fromme">
                            <div class="user-head">
                                <img src="@/assets/images/chat/1.png"/>
                            </div>
                            <div class="content">你能帮我检查一下照片吗？</div>
                        </div>
                        <div class="message">
                            <div class="user-head">
                                <img src="@/assets/images/chat/2.png"/>
                            </div>
                            <div class="content">我已经做了，我现在就把演示稿整理好。</div>
                        </div>
                        <div class="message fromme">
                            <div class="user-head">
                                <img src="@/assets/images/chat/1.png"/>
                            </div>
                            <div class="content">太棒了，谢谢。我期待着早上见到你。</div>
                        </div>
                    </div>
                    <div class="bottom-bar">
                        <textarea class="msg-input" placeholder="发送信息"></textarea>
                        <div class="send-button">
                            <svg version="1.1" xmlns="http://www.w3.org/2000/svg"
                                 xmlns:xlink="http://www.w3.org/1999/xlink"
                                 x="0px" y="0px" viewBox="0 0 512.076 512.076"
                                 style="enable-background:new 0 0 512.076 512.076;" xml:space="preserve">
                                <g>
                                  <path d="M509.532,34.999c-2.292-2.233-5.678-2.924-8.658-1.764L5.213,225.734c-2.946,1.144-4.967,3.883-5.192,7.034
                                       c-0.225,3.151,1.386,6.149,4.138,7.7l102.719,57.875l35.651,174.259c0.222,1.232,0.723,2.379,1.442,3.364
                                       c0.072,0.099,0.131,0.175,0.191,0.251c1.256,1.571,3.037,2.668,5.113,3c0.265,0.042,0.531,0.072,0.795,0.088
                                       c0.171,0.011,0.341,0.016,0.511,0.016c1.559,0,3.036-0.445,4.295-1.228c0.426-0.264,0.831-0.569,1.207-0.915
                                       c0.117-0.108,0.219-0.205,0.318-0.306l77.323-77.52c3.186-3.195,3.18-8.369-0.015-11.555c-3.198-3.188-8.368-3.18-11.555,0.015
                                       l-60.739,60.894l13.124-112.394l185.495,101.814c1.868,1.02,3.944,1.239,5.846,0.78c0.209-0.051,0.4-0.105,0.589-0.166
                                       c1.878-0.609,3.526-1.877,4.574-3.697c0.053-0.094,0.1-0.179,0.146-0.264c0.212-0.404,0.382-0.8,0.517-1.202L511.521,43.608
                                       C512.6,40.596,511.824,37.23,509.532,34.999z M27.232,234.712L432.364,77.371l-318.521,206.14L27.232,234.712z M162.72,316.936
                                       c-0.764,0.613-1.429,1.374-1.949,2.267c-0.068,0.117-0.132,0.235-0.194,0.354c-0.496,0.959-0.784,1.972-0.879,2.986L148.365,419.6
                                       l-25.107-122.718l275.105-178.042L162.72,316.936z M359.507,419.195l-177.284-97.307L485.928,66.574L359.507,419.195z"/>
                                </g>
                            </svg>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>
</template>


<script>
    import "@/assets/css/chat.css";


    export default {
        mounted() {
            let wrapDom = this.$refs.broadcastWrap;
            // 获取wrap的高度
            let height = wrapDom.clientHeight;
            // 获取公告的数量
            let count = wrapDom.children.length;
            let index = 1;
            setInterval(() => {
                // 向上滚动公告
                index < count
                    ? (wrapDom.style.marginTop = `-${(height / count) * index++}px`)
                    : (index = 0);
            }, 20000);
        }
    };
</script>


<style scoped lang="stylus">
    #chat_room
        display flex
        flex-direction column
        justify-content center
        align-items space-between
        width 100%
        background-image url("../../assets/images/chat/bg.jpg")

        .centerit
            padding 20px 0

            .conversations
                overflow auto

            .chat-container
                margin 0 auto

                .msg-input
                    outline none
                    resize none
</style>

